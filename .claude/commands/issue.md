---
allowed-tools: Bash(gh issue view:*)
---

# Issue 仕様理解コマンド

このコマンドは、GitHub Issue を読み込んで仕様を理解し、メモリに保存します。

## 使い方
```
/issue <issue_number>
```

## 処理フロー

1. **Issue の取得**: `gh issue view` コマンドで指定された Issue の詳細を取得します
2. **内容の分析**: Issue の内容を分析し、以下の観点で仕様をまとめます：
   - **目的**: この Issue が解決しようとしている課題
   - **要件**: 実装すべき機能や変更内容
   - **技術的詳細**: 実装方法、使用技術、注意点など
   - **受け入れ基準**: 完了とみなすための条件
   - **参考情報**: 関連する Issue、PR、ドキュメントなど
3. **要約の表示**: 分析結果を見やすくまとめて表示します
4. **メモリへの保存**: `mcp__serena__write_memory` ツールを使用して `issue-<番号>` という名前でメモリに保存します

## 実行手順

以下の手順で処理を実行してください：

### ステップ1: Issue の取得
```bash
gh issue view {{args}} --json number,title,body,state,labels,assignees,comments --jq '.'
```

もし `gh` コマンドが利用できない場合は、ユーザーに GitHub CLI のインストールを促してください。

### ステップ2: 内容の分析と要約

取得した Issue の内容を分析し、以下の形式でまとめてください：

```markdown
# Issue #<番号>: <タイトル>

## 📋 概要
[Issue の目的と背景を簡潔に説明]

## 🎯 目的
[この Issue が解決しようとしている課題]

## ✅ 要件
[実装すべき機能や変更内容をリスト形式で]
- 要件1
- 要件2
- ...

## 🔧 技術的詳細
[実装方法、使用技術、注意点など]

## ✓ 受け入れ基準
[完了とみなすための条件]
- [ ] 条件1
- [ ] 条件2
- ...

## 📚 参考情報
[関連する Issue、PR、ドキュメントなど]

## 💬 コメント
[重要なコメントがあれば要約]
```

### ステップ3: メモリへの保存

`mcp__serena__write_memory` ツールを使用して、以下の形式で保存してください：
- **memory_name**: `issue-<Issue番号>`（例: `issue-42`）
- **content**: ステップ2で作成した要約の内容

### ステップ4: ユーザーへの報告

以下の情報をユーザーに報告してください：
- Issue の要約（ステップ2で作成した内容）
- メモリに保存したことの確認
- 関連するファイルやコードがある場合は、その場所

## 注意事項

- Issue番号が指定されていない場合は、ユーザーに Issue 番号の入力を促してください
- `gh` コマンドが利用できない場合は、GitHub CLI のインストール方法を案内してください
- Issue の内容が大きい場合は、重要な部分を抽出して要約してください
- コメントが多数ある場合は、最新の重要なコメントのみを抽出してください
